- defaults:
    link:
        create: true

- clean:
    - '~'
    - '~/.atom'
    - '~/.config'
    - '~/.config/fish'
    - '~/.config/fish/functions'
    - '~/.ssh'
    - '~/.vim'
    - '~/.Xresources.d'

- shell:
    - git submodule update --init --recursive

# allows to create ~/.config/fish/completions/ before linking files
- link:
    ~/.config/fish/completions: fish/completions/

- link:
    ~/.atom/.apmrc: atom/apmrc
    ~/.atom/config.cson: atom/config.cson
    ~/.atom/init.coffee: atom/init.coffee
    ~/.atom/keymap.cson: atom/keymap.cson
    ~/.atom/snippets.cson: atom/snippets.cson
    ~/.bowerrc: bower/bowerrc
    ~/.config/Brackets/brackets.json: brackets/brackets.json
    ~/.config/fish/abbrs: fish/abbrs
    ~/.config/fish/aliases: fish/aliases
    ~/.config/fish/completions/git.fish: git/git-flow-completion/git.fish
    ~/.config/fish/config.fish: fish/config.fish
    ~/.config/fish/fishfile: fish/fishfile
    ~/.config/fish/functions: fish/functions/
    ~/.config/fish/exports: fish/exports
    ~/.config/fish/path: fish/path
    ~/.config/fish/shell_prompt.sh: fish/shell_prompt.sh
    ~/.dotfiles: ''
    ~/.config/mc/ini: mc/ini
    ~/.config/pip/pip.conf: pip/pip.conf
    ~/.fonts: bin/fonts
    ~/.git_template: git/template/
    ~/.gitconfig: git/gitconfig
    ~/.gitignore_global: git/gitignore_global
    ~/.highlight/langDefs: bin/syntaxhighlight/highlight/langDefs/
    ~/.npmrc: npm/npmrc
    ~/.ssh/authorized_keys: ssh/authorized_keys
    ~/.texmf: texmf/
    ~/.tigrc: tig/tigrc
    ~/.tmux: tmux/
    ~/.tmux.conf: tmux/tmux.conf
    ~/.tmuxline.vim.conf: tmux/tmuxline.vim.conf
    ~/.vim/bundle: vim/bundle
    ~/.vim/ftdetect: vim/ftdetect
    ~/.vim/ftplugin: vim/ftplugin
    ~/.vimrc: vim/vimrc
    ~/.Xmodmap: X11/Xmodmap
    ~/.Xresources: X11/Xresources
    ~/.Xresources.d: X11/Xresources.d/

- shell:
    - ["mkdir -p ~/opt/ ~/opt/bin/ ~/opt/etc/ ~/opt/include/ ~/opt/lib/ ~/opt/share/", Creating ~/opt folder where you can install extra packages]
    - ["[ ! -h ~/opt/bin/lessvim  ] && ln -s /usr/share/vim/vim74/macros/less.sh ~/opt/bin/lessvim || echo 'The file ~/opt/bin/lessvim exists'", Linking less.sh to have lessvim command]
    - (echo "# Do not edit this file. Please edit ~/.config/dotfiles/mintty/minttyrc instead." ; cat mintty/minttyrc mintty/minttyrc.d/solarized/.minttyrc.dark) > ~/.minttyrc
    - [touch ~/.ssh/config_local && (echo "# Do not edit this file. Please edit ~/.config/dotfiles/ssh/config instead." ; cat ~/.ssh/config_local ssh/config) > ~/.ssh/config, Concatenating ~/.ssh/config files]
    - [mkdir -p ~/.texmf/tex/latex, Creating local LaTeX packages]
    - [pre-commit install, Installing pre-commit hooks]
