- clean:
    - '~'
    - '~/.atom'
    - '~/.config'
    - '~/.config/fish'
    - '~/.config/fish/functions'
    - '~/.ssh'
    - '~/.vim'
    - '~/.Xresources.d'

- shell:
    - git submodule update --init --recursive

# allows to create ~/.config/fish/completions/ before linking files
- link:
    ~/.config/fish/completions: fish/completions/

- link:
    ~/.atom/.apmrc:
        create: true
        path: atom/apmrc
    ~/.atom/config.cson:
        create: true
        path: atom/config.cson
    ~/.atom/init.coffee:
        create: true
        path: atom/init.coffee
    ~/.atom/keymap.cson:
        create: true
        path: atom/keymap.cson
    ~/.atom/snippets.cson:
        create: true
        path: atom/snippets.cson
    ~/.bowerrc: bower/bowerrc
    ~/.config/Brackets/brackets.json:
        create: true
        path: brackets/brackets.json
    ~/.config/fish/abbrs:
        create: true
        path: fish/abbrs
    ~/.config/fish/aliases:
        create: true
        path: fish/aliases
    ~/.config/fish/completions/git.fish:
        create: false
        path: git/git-flow-completion/git.fish
    ~/.config/fish/config.fish:
        create: true
        path: fish/config.fish
    ~/.config/fish/functions: fish/functions/
    ~/.config/fish/exports:
        create: true
        path: fish/exports
    ~/.config/fish/path:
        create: true
        path: fish/path
    ~/.config/fish/shell_prompt.sh:
        create: true
        path: fish/shell_prompt.sh
    ~/.dotfiles: ''
    ~/.config/mc/ini:
        create: true
        path: mc/ini
    ~/.config/pip/pip.conf:
        create: true
        path: pip/pip.conf
    ~/.gitconfig: git/gitconfig
    ~/.gitignore_global: git/gitignore_global
    ~/.npmrc: npm/npmrc
    ~/.ssh/authorized_keys:
        create: true
        path: ssh/authorized_keys
    ~/.tigrc: tig/tigrc
    ~/.tmux: tmux/
    ~/.tmux.conf: tmux/tmux.conf
    ~/.tmuxline.vim.conf: tmux/tmuxline.vim.conf
    ~/.vim/bundle:
        create: true
        path: vim/bundle
    ~/.vim/ftdetect:
        create: true
        path: vim/ftdetect
    ~/.vim/ftplugin:
        create: true
        path: vim/ftplugin
    ~/.vimrc: vim/vimrc
    ~/.Xmodmap: X11/Xmodmap
    ~/.Xresources: X11/Xresources
    ~/.Xresources.d: X11/Xresources.d/

- shell:
    - ["mkdir -p ~/opt/ ~/opt/bin/ ~/opt/etc/ ~/opt/include/ ~/opt/lib/ ~/opt/share/", Creating ~/opt folder where you can install extra packages]
    - ["[ ! -h ~/opt/bin/lessvim  ] && ln -s /usr/share/vim/vim74/macros/less.sh ~/opt/bin/lessvim || echo 'The file ~/opt/bin/lessvim exists'", Linking less.sh to have lessvim command]
    - (echo "# Do not edit this file. Please edit ~/.config/dotfiles/mintty/minttyrc instead." ; cat mintty/minttyrc mintty/minttyrc.d/solarized/.minttyrc.dark) > ~/.minttyrc
    - (echo "# Do not edit this file. Please edit ~/.config/dotfiles/ssh/config instead." ; cat ~/.ssh/config_local ssh/config) > ~/.ssh/config
